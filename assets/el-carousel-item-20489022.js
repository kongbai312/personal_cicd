import{k as me,aH as Ae,l as Le,s as I,q as A,f as e,U as q,aF as He,o as he,a5 as Oe,W as Pe,V as Ve,Y as ze,aI as De,$ as pe,d as ee,h as ge,v as Re,b as $,c as R,i as ue,w as x,z as Z,e as O,B as H,A as J,y as X,E as ce,aJ as Ge,G as Q,T as ve,D as U,R as Fe,r as ye,ay as Ie,Z as Ke,ae as Ue,C as We,j as Ce,O as je,S as Ye,aK as qe,aL as Je,I as Xe,ac as Ze}from"./index-db3bc910.js";import{u as Qe}from"./index-43d1d8be.js";import{f as xe}from"./vnode-3ff49818.js";import{t as fe}from"./throttle-d9a145ec.js";const et=me({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),tt={change:(s,P)=>[s,P].every(Ae)},we=Symbol("carouselContextKey"),de=300,at=(s,P,r)=>{const{children:o,addChild:N,removeChild:b}=Qe(pe(),"ElCarouselItem"),B=Le(),a=I(-1),C=I(null),k=I(!1),w=I(),E=I(0),S=I(!0),p=I(!0),f=I(!1),G=A(()=>s.arrow!=="never"&&!e(_)),V=A(()=>o.value.some(t=>t.props.label.toString().length>0)),T=A(()=>s.type==="card"),_=A(()=>s.direction==="vertical"),F=A(()=>s.height!=="auto"?{height:s.height}:{height:`${E.value}px`,overflow:"hidden"}),l=fe(t=>{m(t)},de,{trailing:!0}),i=fe(t=>{z(t)},de),g=t=>S.value?a.value<=1?t<=1:t>1:!0;function v(){C.value&&(clearInterval(C.value),C.value=null)}function y(){s.interval<=0||!s.autoplay||C.value||(C.value=setInterval(()=>L(),s.interval))}const L=()=>{p.value||(f.value=!0),p.value=!1,a.value<o.value.length-1?a.value=a.value+1:s.loop?a.value=0:f.value=!1};function m(t){if(p.value||(f.value=!0),p.value=!1,ze(t)){const K=o.value.filter(D=>D.props.name===t);K.length>0&&(t=o.value.indexOf(K[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=o.value.length,M=a.value;t<0?a.value=s.loop?u-1:0:t>=u?a.value=s.loop?0:u-1:a.value=t,M===a.value&&n(M),ne()}function n(t){o.value.forEach((u,M)=>{u.translateItem(M,a.value,t)})}function W(t,u){var M,K,D,j;const Y=e(o),re=Y.length;if(re===0||!t.states.inStage)return!1;const ke=u+1,Ee=u-1,ie=re-1,Ne=Y[ie].states.active,Me=Y[0].states.active,Be=(K=(M=Y[ke])==null?void 0:M.states)==null?void 0:K.active,$e=(j=(D=Y[Ee])==null?void 0:D.states)==null?void 0:j.active;return u===ie&&Me||Be?"left":u===0&&Ne||$e?"right":!1}function te(){k.value=!0,s.pauseOnHover&&v()}function ae(){k.value=!1,y()}function se(){f.value=!1}function d(t){e(_)||o.value.forEach((u,M)=>{t===W(u,M)&&(u.states.hover=!0)})}function c(){e(_)||o.value.forEach(t=>{t.states.hover=!1})}function h(t){t!==a.value&&(p.value||(f.value=!0)),a.value=t}function z(t){s.trigger==="hover"&&t!==a.value&&(a.value=t,p.value||(f.value=!0))}function oe(){m(a.value-1)}function be(){m(a.value+1)}function ne(){v(),s.pauseOnHover||y()}function Se(t){s.height==="auto"&&(E.value=t)}function Te(){var t;const u=(t=B.default)==null?void 0:t.call(B);if(!u)return null;const M=xe(u),K="ElCarouselItem",D=M.filter(j=>De(j)&&j.type.name===K);return(D==null?void 0:D.length)===2&&s.loop&&!T.value?(S.value=!0,D):(S.value=!1,null)}q(()=>a.value,(t,u)=>{n(u),S.value&&(t=t%2,u=u%2),u>-1&&P("change",t,u)}),q(()=>s.autoplay,t=>{t?y():v()}),q(()=>s.loop,()=>{m(a.value)}),q(()=>s.interval,()=>{ne()});const le=He();return he(()=>{q(()=>o.value,()=>{o.value.length>0&&m(s.initialIndex)},{immediate:!0}),le.value=Oe(w.value,()=>{n()}),y()}),Pe(()=>{v(),w.value&&le.value&&le.value.stop()}),Ve(we,{root:w,isCardType:T,isVertical:_,items:o,loop:s.loop,addItem:N,removeItem:b,setActiveItem:m,setContainerHeight:Se}),{root:w,activeIndex:a,arrowDisplay:G,hasLabel:V,hover:k,isCardType:T,isTransitioning:f,items:o,isVertical:_,containerStyle:F,isItemsTwoLength:S,handleButtonEnter:d,handleTransitionEnd:se,handleButtonLeave:c,handleIndicatorClick:h,handleMouseEnter:te,handleMouseLeave:ae,setActiveItem:m,prev:oe,next:be,PlaceholderItem:Te,isTwoLengthShow:g,throttledArrowClick:l,throttledIndicatorHover:i}},st=["aria-label"],ot=["aria-label"],lt=["onMouseenter","onClick"],nt=["aria-label"],rt={key:0},it={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ut=O("defs",null,[O("filter",{id:"elCarouselHorizontal"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),O("filter",{id:"elCarouselVertical"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),ct=[ut],vt="ElCarousel",ft=ee({name:vt}),dt=ee({...ft,props:et,emits:tt,setup(s,{expose:P,emit:r}){const o=s,{root:N,activeIndex:b,arrowDisplay:B,hasLabel:a,hover:C,isCardType:k,items:w,isVertical:E,containerStyle:S,handleButtonEnter:p,handleButtonLeave:f,isTransitioning:G,handleIndicatorClick:V,handleMouseEnter:T,handleMouseLeave:_,handleTransitionEnd:F,setActiveItem:l,prev:i,next:g,PlaceholderItem:v,isTwoLengthShow:y,throttledArrowClick:L,throttledIndicatorHover:m}=at(o,r),n=ge("carousel"),{t:W}=Re(),te=A(()=>{const d=[n.b(),n.m(o.direction)];return e(k)&&d.push(n.m("card")),d}),ae=A(()=>{const d=[n.e("container")];return o.motionBlur&&e(G)&&d.push(e(E)?`${n.namespace.value}-transitioning-vertical`:`${n.namespace.value}-transitioning`),d}),se=A(()=>{const d=[n.e("indicators"),n.em("indicators",o.direction)];return e(a)&&d.push(n.em("indicators","labels")),o.indicatorPosition==="outside"&&d.push(n.em("indicators","outside")),e(E)&&d.push(n.em("indicators","right")),d});return P({setActiveItem:l,prev:i,next:g}),(d,c)=>($(),R("div",{ref_key:"root",ref:N,class:H(e(te)),onMouseenter:c[7]||(c[7]=J((...h)=>e(T)&&e(T)(...h),["stop"])),onMouseleave:c[8]||(c[8]=J((...h)=>e(_)&&e(_)(...h),["stop"]))},[e(B)?($(),ue(ve,{key:0,name:"carousel-arrow-left",persisted:""},{default:x(()=>[Z(O("button",{type:"button",class:H([e(n).e("arrow"),e(n).em("arrow","left")]),"aria-label":e(W)("el.carousel.leftArrow"),onMouseenter:c[0]||(c[0]=h=>e(p)("left")),onMouseleave:c[1]||(c[1]=(...h)=>e(f)&&e(f)(...h)),onClick:c[2]||(c[2]=J(h=>e(L)(e(b)-1),["stop"]))},[X(e(ce),null,{default:x(()=>[X(e(Ge))]),_:1})],42,st),[[Q,(d.arrow==="always"||e(C))&&(o.loop||e(b)>0)]])]),_:1})):U("v-if",!0),e(B)?($(),ue(ve,{key:1,name:"carousel-arrow-right",persisted:""},{default:x(()=>[Z(O("button",{type:"button",class:H([e(n).e("arrow"),e(n).em("arrow","right")]),"aria-label":e(W)("el.carousel.rightArrow"),onMouseenter:c[3]||(c[3]=h=>e(p)("right")),onMouseleave:c[4]||(c[4]=(...h)=>e(f)&&e(f)(...h)),onClick:c[5]||(c[5]=J(h=>e(L)(e(b)+1),["stop"]))},[X(e(ce),null,{default:x(()=>[X(e(Fe))]),_:1})],42,ot),[[Q,(d.arrow==="always"||e(C))&&(o.loop||e(b)<e(w).length-1)]])]),_:1})):U("v-if",!0),O("div",{class:H(e(ae)),style:Ie(e(S)),onTransitionend:c[6]||(c[6]=(...h)=>e(F)&&e(F)(...h))},[X(e(v)),ye(d.$slots,"default")],38),d.indicatorPosition!=="none"?($(),R("ul",{key:2,class:H(e(se))},[($(!0),R(Ke,null,Ue(e(w),(h,z)=>Z(($(),R("li",{key:z,class:H([e(n).e("indicator"),e(n).em("indicator",d.direction),e(n).is("active",z===e(b))]),onMouseenter:oe=>e(m)(z),onClick:J(oe=>e(V)(z),["stop"])},[O("button",{class:H(e(n).e("button")),"aria-label":e(W)("el.carousel.indicator",{index:z+1})},[e(a)?($(),R("span",rt,We(h.props.label),1)):U("v-if",!0)],10,nt)],42,lt)),[[Q,e(y)(z)]])),128))],2)):U("v-if",!0),o.motionBlur?($(),R("svg",it,ct)):U("v-if",!0)],34))}});var mt=Ce(dt,[["__file","carousel.vue"]]);const ht=me({name:{type:String,default:""},label:{type:[String,Number],default:""}}),pt=(s,P)=>{const r=je(we),o=pe(),N=.83,b=I(),B=I(!1),a=I(0),C=I(1),k=I(!1),w=I(!1),E=I(!1),S=I(!1),{isCardType:p,isVertical:f}=r;function G(l,i,g){const v=g-1,y=i-1,L=i+1,m=g/2;return i===0&&l===v?-1:i===v&&l===0?g:l<y&&i-l>=m?g+1:l>L&&l-i>=m?-2:l}function V(l,i){var g,v;const y=e(f)?((g=r.root.value)==null?void 0:g.offsetHeight)||0:((v=r.root.value)==null?void 0:v.offsetWidth)||0;return E.value?y*((2-N)*(l-i)+1)/4:l<i?-(1+N)*y/4:(3+N)*y/4}function T(l,i,g){const v=r.root.value;return v?((g?v.offsetHeight:v.offsetWidth)||0)*(l-i):0}const _=(l,i,g)=>{var v;const y=e(p),L=(v=r.items.value.length)!=null?v:Number.NaN,m=l===i;!y&&!Je(g)&&(S.value=m||l===g),!m&&L>2&&r.loop&&(l=G(l,i,L));const n=e(f);k.value=m,y?(E.value=Math.round(Math.abs(l-i))<=1,a.value=V(l,i),C.value=e(k)?1:N):a.value=T(l,i,n),w.value=!0,m&&b.value&&r.setContainerHeight(b.value.offsetHeight)};function F(){if(r&&e(p)){const l=r.items.value.findIndex(({uid:i})=>i===o.uid);r.setActiveItem(l)}}return he(()=>{r.addItem({props:s,states:Ye({hover:B,translate:a,scale:C,active:k,ready:w,inStage:E,animating:S}),uid:o.uid,translateItem:_})}),qe(()=>{r.removeItem(o.uid)}),{carouselItemRef:b,active:k,animating:S,hover:B,inStage:E,isVertical:f,translate:a,isCardType:p,scale:C,ready:w,handleItemClick:F}},gt=ee({name:"ElCarouselItem"}),yt=ee({...gt,props:ht,setup(s){const P=s,r=ge("carousel"),{carouselItemRef:o,active:N,animating:b,hover:B,inStage:a,isVertical:C,translate:k,isCardType:w,scale:E,ready:S,handleItemClick:p}=pt(P),f=A(()=>[r.e("item"),r.is("active",N.value),r.is("in-stage",a.value),r.is("hover",B.value),r.is("animating",b.value),{[r.em("item","card")]:w.value,[r.em("item","card-vertical")]:w.value&&C.value}]),G=A(()=>{const T=`${`translate${e(C)?"Y":"X"}`}(${e(k)}px)`,_=`scale(${e(E)})`;return{transform:[T,_].join(" ")}});return(V,T)=>Z(($(),R("div",{ref_key:"carouselItemRef",ref:o,class:H(e(f)),style:Ie(e(G)),onClick:T[0]||(T[0]=(..._)=>e(p)&&e(p)(..._))},[e(w)?Z(($(),R("div",{key:0,class:H(e(r).e("mask"))},null,2)),[[Q,!e(N)]]):U("v-if",!0),ye(V.$slots,"default")],6)),[[Q,e(S)]])}});var _e=Ce(yt,[["__file","carousel-item.vue"]]);const bt=Xe(mt,{CarouselItem:_e}),St=Ze(_e);export{bt as E,St as a};
