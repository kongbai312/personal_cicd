import{as as de,o as oe,a4 as fe,W as me,x as W,af as ve,P as pe,h as x,q as k,at as te,M as Q,U as X,au as ye,K as ge,av as he,L as be,aw as q,k as G,a1 as U,d as z,y as $,r as _,X as Ce,N as we,v as Ee,O as Z,b as T,c as Y,e as P,B as I,f as o,C as _e,w as E,i as j,ax as Ie,E as ke,D as K,ay as se,j as ne,az as De,aA as Me,aB as Be,s as L,aC as Se,aD as Te,a8 as Le,$ as $e,a0 as J,l as Ae,n as Fe,V as Oe,z as Pe,m as ze,an as Ne,G as Re,T as Ve,H as Ye,I as Ue,p as qe,g as He,_ as We}from"./index-db3bc910.js";import{E as Xe}from"./el-image-viewer-6aa38c3a.js";import{P as H}from"./vnode-3ff49818.js";import{F as je,i as Ke,E as xe}from"./focus-trap-ba0a0ba2.js";import{U as ae,u as ee}from"./index-d1b6c543.js";import{g as Ge}from"./scroll-e59f85c1.js";const Qe=(...e)=>t=>{e.forEach(l=>{de(l)?l(t):l.value=t})},Ze=(e,t,l,u)=>{let s={offsetX:0,offsetY:0};const c=m=>{const d=m.clientX,p=m.clientY,{offsetX:y,offsetY:b}=s,f=e.value.getBoundingClientRect(),r=f.left,w=f.top,A=f.width,N=f.height,F=document.documentElement.clientWidth,R=document.documentElement.clientHeight,V=-r+y,O=-w+b,D=F-r-A+y,M=R-w-N+b,C=n=>{let v=y+n.clientX-d,g=b+n.clientY-p;u!=null&&u.value||(v=Math.min(Math.max(v,V),D),g=Math.min(Math.max(g,O),M)),s={offsetX:v,offsetY:g},e.value&&(e.value.style.transform=`translate(${W(v)}, ${W(g)})`)},B=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",B)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",B)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",c)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",c)};oe(()=>{fe(()=>{l.value?i():a()})}),me(()=>{a()})},Je=(e,t={})=>{ve(e)||pe("[useLockscreen]","You need to pass a ref param to this function");const l=t.ns||x("popup"),u=k(()=>l.bm("parent","hidden"));if(!te||Q(document.body,u.value))return;let s=0,c=!1,i="0";const a=()=>{setTimeout(()=>{be(document==null?void 0:document.body,u.value),c&&document&&(document.body.style.width=i)},200)};X(e,m=>{if(!m){a();return}c=!Q(document.body,u.value),c&&(i=document.body.style.width),s=Ge(l.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,p=ye(document.body,"overflowY");s>0&&(d||p==="scroll")&&c&&(document.body.style.width=`calc(100% - ${s}px)`),ge(document.body,u.value)}),he(()=>a())},le=e=>{if(!e)return{onClick:q,onMousedown:q,onMouseup:q};let t=!1,l=!1;return{onClick:i=>{t&&l&&e(i),t=l=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{l=i.target===i.currentTarget}}},eo=G({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:U([String,Array,Object])},zIndex:{type:U([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var so=z({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:l}){const u=x(to),s=m=>{l("click",m)},{onClick:c,onMousedown:i,onMouseup:a}=le(e.customMaskEvent?void 0:s);return()=>e.mask?$("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:i,onMouseup:a},[_(t,"default")],H.STYLE|H.CLASS|H.PROPS,["onClick","onMouseup","onMousedown"]):Ce("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[_(t,"default")])}});const no=so,ie=Symbol("dialogInjectionKey"),re=G({center:Boolean,alignCenter:Boolean,closeIcon:{type:we},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ao={close:()=>!0},lo=["aria-level"],io=["aria-label"],ro=["id"],co=z({name:"ElDialogContent"}),uo=z({...co,props:re,emits:ao,setup(e){const t=e,{t:l}=Ee(),{Close:u}=De,{dialogRef:s,headerRef:c,bodyId:i,ns:a,style:m}=Z(ie),{focusTrapRef:d}=Z(je),p=k(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center}]),y=Qe(d,s),b=k(()=>t.draggable),f=k(()=>t.overflow);return Ze(s,c,b,f),(r,w)=>(T(),Y("div",{ref:o(y),class:I(o(p)),style:se(o(m)),tabindex:"-1"},[P("header",{ref_key:"headerRef",ref:c,class:I([o(a).e("header"),{"show-close":r.showClose}])},[_(r.$slots,"header",{},()=>[P("span",{role:"heading","aria-level":r.ariaLevel,class:I(o(a).e("title"))},_e(r.title),11,lo)]),r.showClose?(T(),Y("button",{key:0,"aria-label":o(l)("el.dialog.close"),class:I(o(a).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=A=>r.$emit("close"))},[$(o(ke),{class:I(o(a).e("close"))},{default:E(()=>[(T(),j(Ie(r.closeIcon||o(u))))]),_:1},8,["class"])],10,io)):K("v-if",!0)],2),P("div",{id:o(i),class:I(o(a).e("body"))},[_(r.$slots,"default")],10,ro),r.$slots.footer?(T(),Y("footer",{key:0,class:I(o(a).e("footer"))},[_(r.$slots,"footer")],2)):K("v-if",!0)],6))}});var fo=ne(uo,[["__file","dialog-content.vue"]]);const mo=G({...re,appendToBody:Boolean,appendTo:{type:U(String),default:"body"},beforeClose:{type:U(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),vo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>Me(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var l;const s=$e().emit,{nextZIndex:c}=Be();let i="";const a=ee(),m=ee(),d=L(!1),p=L(!1),y=L(!1),b=L((l=e.zIndex)!=null?l:c());let f,r;const w=Se("namespace",Te),A=k(()=>{const h={},S=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(h[`${S}-margin-top`]=e.top),e.width&&(h[`${S}-width`]=W(e.width))),h}),N=k(()=>e.alignCenter?{display:"flex"}:{});function F(){s("opened")}function R(){s("closed"),s(ae,!1),e.destroyOnClose&&(y.value=!1)}function V(){s("close")}function O(){r==null||r(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=J(()=>B(),e.openDelay):B()}function D(){f==null||f(),r==null||r(),e.closeDelay&&e.closeDelay>0?{stop:r}=J(()=>n(),e.closeDelay):n()}function M(){function h(S){S||(p.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(h):D()}function C(){e.closeOnClickModal&&M()}function B(){te&&(d.value=!0)}function n(){d.value=!1}function v(){s("openAutoFocus")}function g(){s("closeAutoFocus")}function ce(h){var S;((S=h.detail)==null?void 0:S.focusReason)==="pointer"&&h.preventDefault()}e.lockScroll&&Je(d);function ue(){e.closeOnPressEscape&&M()}return X(()=>e.modelValue,h=>{h?(p.value=!1,O(),y.value=!0,b.value=Ke(e.zIndex)?c():b.value++,Le(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):d.value&&D()}),X(()=>e.fullscreen,h=>{t.value&&(h?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),oe(()=>{e.modelValue&&(d.value=!0,y.value=!0,O())}),{afterEnter:F,afterLeave:R,beforeLeave:V,handleClose:M,onModalClick:C,close:D,doClose:n,onOpenAutoFocus:v,onCloseAutoFocus:g,onCloseRequested:ue,onFocusoutPrevented:ce,titleId:a,bodyId:m,closed:p,style:A,overlayDialogStyle:N,rendered:y,visible:d,zIndex:b}},yo=["aria-label","aria-labelledby","aria-describedby"],go=z({name:"ElDialog",inheritAttrs:!1}),ho=z({...go,props:mo,emits:vo,setup(e,{expose:t}){const l=e,u=Ae();Fe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},k(()=>!!u.title));const s=x("dialog"),c=L(),i=L(),a=L(),{visible:m,titleId:d,bodyId:p,style:y,overlayDialogStyle:b,rendered:f,zIndex:r,afterEnter:w,afterLeave:A,beforeLeave:N,handleClose:F,onModalClick:R,onOpenAutoFocus:V,onCloseAutoFocus:O,onCloseRequested:D,onFocusoutPrevented:M}=po(l,c);Oe(ie,{dialogRef:c,headerRef:i,bodyId:p,ns:s,rendered:f,style:y});const C=le(R),B=k(()=>l.draggable&&!l.fullscreen);return t({visible:m,dialogContentRef:a}),(n,v)=>(T(),j(Ye,{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},[$(Ve,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(A),onBeforeLeave:o(N),persisted:""},{default:E(()=>[Pe($(o(no),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(r)},{default:E(()=>[P("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(d),"aria-describedby":o(p),class:I(`${o(s).namespace.value}-overlay-dialog`),style:se(o(b)),onClick:v[0]||(v[0]=(...g)=>o(C).onClick&&o(C).onClick(...g)),onMousedown:v[1]||(v[1]=(...g)=>o(C).onMousedown&&o(C).onMousedown(...g)),onMouseup:v[2]||(v[2]=(...g)=>o(C).onMouseup&&o(C).onMouseup(...g))},[$(o(xe),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(V),onFocusAfterReleased:o(O),onFocusoutPrevented:o(M),onReleaseRequested:o(D)},{default:E(()=>[o(f)?(T(),j(fo,ze({key:0,ref_key:"dialogContentRef",ref:a},n.$attrs,{center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(B),overflow:n.overflow,fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:o(F)}),Ne({header:E(()=>[n.$slots.title?_(n.$slots,"title",{key:1}):_(n.$slots,"header",{key:0,close:o(F),titleId:o(d),titleClass:o(s).e("title")})]),default:E(()=>[_(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:E(()=>[_(n.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):K("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[Re,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var bo=ne(ho,[["__file","dialog.vue"]]);const Co=Ue(bo);const wo=""+new URL("wechat-8ba79a1e.jpg",import.meta.url).href,Eo=""+new URL("qq-2b03b122.jpg",import.meta.url).href,_o=e=>(qe("data-v-5086d833"),e=e(),He(),e),Io=_o(()=>P("span",{class:"contactDialog_header"},"添加作者联系",-1)),ko={class:"contactDialog_container"},Do=z({__name:"pr_contactDialog",props:{activeIcon:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const l=t,u=s=>{l("update:modelValue",!1),s()};return(s,c)=>{const i=Xe,a=Co;return T(),Y("div",null,[$(a,{modelValue:s.modelValue,class:"contactDialog","show-close":!1,center:"","before-close":u},{header:E(()=>[Io]),default:E(()=>[P("div",ko,[$(i,{src:s.activeIcon&&s.activeIcon==="qq"?o(Eo):o(wo),class:"wechatImg",fit:"contain"},null,8,["src"])])]),_:1},8,["modelValue"])])}}});const Ao=We(Do,[["__scopeId","data-v-5086d833"]]);export{no as E,Ao as _,vo as a,Co as b,mo as d,po as u};
